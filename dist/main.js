(()=>{"use strict";const e={};function t(n,d=null){const o=n,a=document.querySelector(".main-content"),i=document.querySelector(".todo-Box-Container"),s=document.createElement("div"),c=document.createElement("div"),l=document.querySelector(".newToDoButton");i&&a.removeChild(i),s.classList.add("todo-Box-Container"),c.classList.add("toDoBox"),c.classList.contains("hidden")||c.classList.add("hidden"),"far fa-edit"===o.target.className&&(a.appendChild(s),c.classList.toggle("hidden"));const r=document.createElement("div");r.classList.add("itemHeading");const u=document.createElement("h3");u.textContent="TO-DO ITEM",r.appendChild(u);const p=document.createElement("div"),m=document.createElement("form");m.id="todo-form";const h=document.createElement("div");h.classList.add("form-group");const C=document.createElement("input");C.type="text",C.id="title",C.name="title",C.required=!0,C.placeholder="Title";const v=document.createElement("textarea");v.id="description",v.name="description",v.placeholder="Description",h.appendChild(C),h.appendChild(v);const E=document.createElement("div");E.classList.add("form-group");const y=document.createElement("input");y.type="date",y.id="due-date",y.name="due-date",y.required=!0,y.placeholder="DD-MM-YYYY";const L=document.createElement("select");L.id="priority",L.name="priority";const f=document.createElement("option");f.value="low",f.textContent="Low";const g=document.createElement("option");g.value="medium",g.textContent="Medium";const x=document.createElement("option");x.value="high",x.textContent="High",L.appendChild(f),L.appendChild(g),L.appendChild(x),E.appendChild(y),E.appendChild(L);const k=document.createElement("div");k.classList.add("addCancelButtons");const b=document.createElement("button");b.type="submit",b.classList.add("submitBox"),b.textContent="Submit";const D=document.createElement("button");D.type="submit",D.classList.add("cancel"),D.textContent="Cancel",k.appendChild(b),k.appendChild(D),m.appendChild(h),m.appendChild(E),m.appendChild(k),p.appendChild(m),c.appendChild(r),c.appendChild(p),s.appendChild(c),"ADD TASK"===o.target.innerText&&(console.log(o.target.innerText),l.disabled=!0,c.classList.toggle("hidden"),a.appendChild(s)),d&&(C.value=d.title,v.value=d.description,y.value=d.dueDate,L.value=d.priority),D.addEventListener("click",(e=>{C.value="",y.value="",l.disabled=!1,v.value="",c.classList.toggle("hidden"),a.removeChild(s),e.preventDefault()})),m.addEventListener("submit",(n=>{n.preventDefault(),l.disabled=!1;const d={title:C.value,description:v.value,dueDate:y.value,priority:L.value};"far fa-edit"===o.target.className?function(t,n){const d=t.querySelector(".title"),o=t.querySelector(".description"),a=t.querySelector(".due-date");d.textContent=n.title,o.textContent=n.description,a.textContent=n.dueDate,"low"===n.priority?t.style.border="2px solid red":"medium"===n.priority?t.style.border="2px solid orange":"high"===n.priority&&(t.style.border="2px solid green");const i=document.querySelector(".mainheading div").textContent,s=t.getAttribute("data-id"),c=e[i].tasks.findIndex((e=>String(e.id)===s));-1!==c&&(e[i].tasks[c]={...e[i].tasks[c],...n})}(o.target.closest(".todo-item"),d):function(n,d){const{title:o,description:a,dueDate:i,priority:s}=d,c=document.querySelector(".mainheading"),l=document.querySelector(".todo-list"),r=Date.now(),u=document.createElement("div");u.classList.add("todo-item"),u.setAttribute("data-id",r);const p=document.createElement("div");p.classList.add("title"),p.textContent=o,u.appendChild(p),"low"===s?u.style.border="2px solid red":"medium"===s?u.style.border="2px solid orange":"high"===s&&(u.style.border="2px solid green");const m=document.createElement("div");m.classList.add("description-container");const h=document.createElement("div");h.classList.add("description"),h.textContent=a,m.appendChild(h),u.appendChild(m);const C=document.createElement("div");C.classList.add("due-date"),C.textContent=i,u.appendChild(C);const v=document.createElement("button");v.classList.add("far","fa-edit"),u.appendChild(v);const E=document.createElement("button");E.classList.add("fas","fa-trash"),u.appendChild(E),l.appendChild(u),console.log(c.children[0]);const y=c.children[0].innerHTML;e[y]||(e[y]={tasks:[]}),e[y].tasks.push({id:r,title:o,description:a,dueDate:i,priority:s}),E.addEventListener("click",(t=>{t.preventDefault(),u.remove();const n=u.getAttribute("data-id"),d=e[y].tasks.findIndex((e=>String(e.id)===n));e[y].tasks.splice(d,1),console.log(e,"lolpochka")})),v.addEventListener("click",(e=>{e.preventDefault(),t(e,{title:p.textContent,description:h.textContent,dueDate:C.textContent,priority:s})}))}(0,d),c.classList.toggle("hidden"),a.removeChild(s)}))}!function(){const n=document.querySelector("form"),d=(document.querySelector(".main-content"),document.querySelector(".newButton")),o=document.querySelector(".newTaskInput"),a=document.querySelector(".projectList");var i=document.createElement("button"),s="";d.addEventListener("click",(()=>{n.classList.toggle("hidden")})),o.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),function(){const e=document.createElement("span"),t=document.createElement("button"),d=document.createElement("button"),c=document.createElement("div");i=document.createElement("button"),""!==(s=(s=o.value).toUpperCase())&&(e.classList.add("content"),t.classList.add("fas","fa-trash"),d.classList.add("far","fa-edit"),i.classList.add("newTaskItem"),c.classList.add("itemIcons"),e.textContent=s,c.appendChild(d),c.appendChild(t),i.appendChild(e),i.appendChild(c),a.appendChild(i),o.value="",n.classList.add("hidden"))}())}));var c=!0;function l(n,d){const{id:o,title:a,description:i,dueDate:s,priority:c}=n,l=document.createElement("div");l.classList.add("todo-item"),l.setAttribute("data-id",o);const r=document.createElement("div");r.classList.add("title"),r.textContent=a,l.appendChild(r);const u=document.createElement("div");u.classList.add("description"),u.textContent=i,l.appendChild(u);const p=document.createElement("div");p.classList.add("due-date"),p.textContent=s,l.appendChild(p);const m=document.createElement("button");m.classList.add("far","fa-edit"),l.appendChild(m);const h=document.createElement("button");return h.classList.add("fas","fa-trash"),l.appendChild(h),"low"===c?l.style.border="2px solid red":"medium"===c?l.style.border="2px solid orange":"high"===c&&(l.style.border="2px solid green"),m.addEventListener("click",(e=>{e.preventDefault(),t(e,{title:r.textContent,description:descriptionElement.textContent,dueDate:p.textContent,priority:c})})),h.addEventListener("click",(()=>{l.remove();const t=e[d].tasks.findIndex((e=>e.id===o));-1!==t&&e[d].tasks.splice(t,1)})),l}document.addEventListener("click",(function(e){if(e.target.classList.contains("fa-trash")){const t=e.target.closest(".newTaskItem");t&&t.remove()}else if(e.target.classList.contains("fa-edit")&&c){const t=e.target.closest(".newTaskItem");c=!1;const n=t.querySelector("span.content"),d=document.createElement("input");d.type="text",d.classList.add("newTaskInput"),d.value=n.textContent,n.replaceWith(d),d.addEventListener("keydown",(t=>{"Enter"===t.key&&(e.preventDefault(),n.textContent=d.value.toUpperCase(),d.replaceWith(n),c=!0)}))}})),document.addEventListener("click",(n=>{"newTaskItem"===n.target.className&&function(n){const d=document.querySelector(".main-content"),o=document.querySelector(".todo-list");o.innerHTML="";const a=d.querySelector(".mainheading div");if(a)a.textContent=n;else{const e=document.createElement("div");e.textContent=n,d.querySelector(".mainheading").appendChild(e)}e[n]&&e[n].tasks?e[n].tasks.forEach((e=>{const t=l(e,n);o.appendChild(t),console.log("po ra pooka")})):console.log("No tasks found for project:",n,e);let i=d.querySelector(".newToDoButton");i||(i=function(){const e=document.createElement("button");e.classList.add("newToDoButton");const n=document.createElement("h3");n.textContent="ADD TASK",n.style.fontSize="medium",n.style.paddingRight="13px";const d=document.createElement("i");return d.classList.add("fas","fa-plus"),d.style.padding="2px",d.style.fontSize="small",e.appendChild(n),e.appendChild(d),e.addEventListener("click",(e=>{t(e)})),e}(),d.querySelector(".mainheading").appendChild(i))}(n.target.innerText)}))}()})();