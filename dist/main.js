(()=>{"use strict";const e={};function t(n,d=null){const o=n,a=document.querySelector(".main-content"),i=document.querySelector(".todo-Box-Container"),l=document.createElement("div"),c=document.createElement("div"),s=document.querySelector(".newToDoButton");i&&a.removeChild(i),l.classList.add("todo-Box-Container"),c.classList.add("toDoBox"),c.classList.contains("hidden")||c.classList.add("hidden"),"far fa-edit"===o.target.className&&(a.appendChild(l),c.classList.toggle("hidden"));const r=document.createElement("div");r.classList.add("itemHeading");const u=document.createElement("h3");u.textContent="TO-DO ITEM",r.appendChild(u);const p=document.createElement("div"),m=document.createElement("form");m.id="todo-form";const h=document.createElement("div");h.classList.add("form-group");const C=document.createElement("input");C.type="text",C.id="title",C.name="title",C.required=!0,C.placeholder="Title";const v=document.createElement("textarea");v.id="description",v.name="description",v.placeholder="Description",h.appendChild(C),h.appendChild(v);const g=document.createElement("div");g.classList.add("form-group");const E=document.createElement("input");E.type="date",E.id="due-date",E.name="due-date",E.required=!0,E.placeholder="DD-MM-YYYY";const L=document.createElement("select");L.id="priority",L.name="priority";const x=document.createElement("option");x.value="low",x.textContent="Low";const y=document.createElement("option");y.value="medium",y.textContent="Medium";const f=document.createElement("option");f.value="high",f.textContent="High",L.appendChild(x),L.appendChild(y),L.appendChild(f),g.appendChild(E),g.appendChild(L);const b=document.createElement("div");b.classList.add("addCancelButtons");const k=document.createElement("button");k.type="submit",k.classList.add("submitBox"),k.textContent="Submit";const D=document.createElement("button");D.type="submit",D.classList.add("cancel"),D.textContent="Cancel",b.appendChild(k),b.appendChild(D),m.appendChild(h),m.appendChild(g),m.appendChild(b),p.appendChild(m),c.appendChild(r),c.appendChild(p),l.appendChild(c),"ADD TASK"===o.target.innerText&&(console.log(o.target.innerText),s.disabled=!0,c.classList.toggle("hidden"),a.appendChild(l)),d&&(C.value=d.title,v.value=d.description,E.value=d.dueDate,L.value=d.priority),D.addEventListener("click",(e=>{C.value="",E.value="",s.disabled=!1,v.value="",c.classList.toggle("hidden"),a.removeChild(l),e.preventDefault()})),m.addEventListener("submit",(n=>{n.preventDefault(),s.disabled=!1;const d={title:C.value,description:v.value,dueDate:E.value,priority:L.value};"far fa-edit"===o.target.className&&console.log(d),function(n,d){console.log("herer");const{title:o,description:a,dueDate:i,priority:l}=d,c=(document.querySelector(".main-content"),document.querySelector(".todo-list")),s=Date.now(),r=document.createElement("div");r.classList.add("todo-item"),r.setAttribute("data-id",s);const u=document.createElement("div");u.classList.add("title"),u.textContent=o,r.appendChild(u),"low"===l?r.style.border="2px solid red":"medium"===l?r.style.border="2px solid orange":"high"===l&&(r.style.border="2px solid green");const p=document.createElement("div");p.classList.add("description-container");const m=document.createElement("div");m.classList.add("description"),m.textContent=a,p.appendChild(m),r.appendChild(p);const h=document.createElement("div");h.classList.add("due-date"),h.textContent=i,r.appendChild(h);const C=document.createElement("button");C.classList.add("far","fa-edit"),r.appendChild(C);const v=document.createElement("button");v.classList.add("fas","fa-trash"),r.appendChild(v),c.appendChild(r);const g=document.querySelector(".mainheading").childNodes[0].innerText;null==e[g]&&(console.log("lolpochka"),e[g]={tasks:[]}),e[g].tasks.push({id:s,title:o,description:a,dueDate:i,priority:l}),v.addEventListener("click",(t=>{t.preventDefault(),r.remove();const n=r.getAttribute("data-id");console.log(n,"lolpochka");const d=e[g].tasks.findIndex((e=>String(e.id)===n));e[g].tasks.splice(d,1),console.log(e,"lolpochka")})),C.addEventListener("click",(n=>{n.preventDefault();const d={title:u.textContent,description:m.textContent,dueDate:h.textContent,priority:l};t(n,d),u.textContent=d.title,m.textContent=d.description,h.textContent=d.dueDate,"low"===d.priority?r.style.border="2px solid red":"medium"===d.priority?r.style.border="2px solid orange":"high"===d.priority&&(r.style.border="2px solid green");const o=e[g];o.value=o.value.filter((e=>e!==r))})),console.log(e,r)}(0,d),c.classList.toggle("hidden"),a.removeChild(l)}))}!function(){const e=document.querySelector("form"),n=document.querySelector(".main-content"),d=document.querySelector(".newButton"),o=document.querySelector(".newTaskInput"),a=document.querySelector(".projectList");var i=document.createElement("button"),l="";d.addEventListener("click",(()=>{e.classList.toggle("hidden")})),o.addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),function(){const t=document.createElement("span"),n=document.createElement("button"),d=document.createElement("button"),c=document.createElement("div");i=document.createElement("button"),""!==(l=(l=o.value).toUpperCase())&&(t.classList.add("content"),n.classList.add("fas","fa-trash"),d.classList.add("far","fa-edit"),i.classList.add("newTaskItem"),c.classList.add("itemIcons"),t.textContent=l,c.appendChild(d),c.appendChild(n),i.appendChild(t),i.appendChild(c),a.appendChild(i),o.value="",e.classList.add("hidden"))}())}));var c=!0;document.addEventListener("click",(function(e){if(e.target.classList.contains("fa-trash")){const t=e.target.closest(".newTaskItem");t&&t.remove()}else if(e.target.classList.contains("fa-edit")&&c){const t=e.target.closest(".newTaskItem");c=!1;const n=t.querySelector("span.content"),d=document.createElement("input");d.type="text",d.classList.add("newTaskInput"),d.value=n.textContent,n.replaceWith(d),d.addEventListener("keydown",(t=>{"Enter"===t.key&&(e.preventDefault(),n.textContent=d.value.toUpperCase(),d.replaceWith(n),c=!0)}))}})),document.addEventListener("click",(e=>{if("newTaskItem"===e.target.className){const d=document.createElement("button"),o=document.querySelector(".mainheading"),a=document.createElement("div"),i=document.createElement("h3"),l=document.createElement("i");d.type="button",d.classList.add("newToDoButton"),a.textContent=e.target.innerText,o.childNodes.length>1?o.childNodes[0].innerText=e.target.innerText:(i.style.fontSize="medium",i.style.paddingRight="13px",i.textContent="ADD TASK",l.classList.add("fas","fa-plus"),l.style.padding="2px",l.style.fontSize="small",d.appendChild(i),d.appendChild(l),o.appendChild(a),o.appendChild(d)),e.target.innerText,n.childNodes[2]&&n.childNodes[2].remove(),console.log(n.childNodes,"after"),d.addEventListener("click",(e=>{t(e)}))}}))}()})();